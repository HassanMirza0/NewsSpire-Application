
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>NewsSpire</title>
<link rel="stylesheet" href="styles.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400&family=Roboto:wght@300;400&display=swap"
    rel="stylesheet">






<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap Bundle with Popper.js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script src="/js/script.js"></script>
</body>


<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NewsSpire</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400&family=Roboto:wght@300;400&display=swap"
        rel="stylesheet">
</head>

<body style="background-color:white ;">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="/?q=all&pageno=1">NewsSpire</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active fw-medium" aria-current="page" href="/?q=all&pageno=1">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="/?q=world&pageno=1">World News</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="/?q=local&pageno=1">Local News</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="/?q=sports&pageno=1">Sports</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="/?q=technology&pageno=1">Technology</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="/?q=entertainment&pageno=1">Entertainment</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="/?q=politics&pageno=1">Politics</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="/?q=business&pageno=1">Business</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="/?q=health&pageno=1">Health</a>
                    </li>
                </ul>
                <form class="d-flex " role="search">
                    <input class="form-control me-2" name="query" type="search" placeholder="Search"
                        aria-label="Search">
                    <input class="form-control me-2" name="pageno" value="1" type="hidden" placeholder="Search"
                        aria-label="Search">
                        <button class="btn btn-outline-success " type="submit">Search</button>
                        <a class="btn btn-outline-danger ms-2" type="submit" href="/login">login</a>
                            
                        <!-- <button class="btn btn-outline-warning" type="submit">Search</button> -->
                </form> 
            </div>
        </div>
    </nav>


    <h1 class="text-center my-4"><span id="queryText"></span> - NewsSpire News ( <span id="queryResult"> </span>
        results)</h1>
    <div class="text-center my-2">
        <h5 class="fw-medium" id="paginationInfo"></h5>
    </div> <!-- New element for pagination info -->
    <div class="container my-4 ">
               <div id="content" class="row  mx-auto my-4 ">
                <div class="d-flex justify-content-center">
                    <div class="spinner-border " role="status">
                      <span class="visually-hidden">Loading...</span>
                    </div>
                  </div>
               </div>
    </div>

    <div class="d-flex justify-content-center my-3">

        <nav aria-label="Page navigation example ">
            <ul class="pagination">
                <li class="page-item"><a id="prev" class="page-link" href="#">Previous</a></li>
                <li class="page-item"><a id="f" class="page-link" href="#">1</a></li>
                <li class="page-item"><a id="s" class="page-link" href="#">2</a></li>
                <li class="page-item"><a id="th" class="page-link" href="#">3</a></li>
                <li class="page-item"><a id="next" class="page-link" href="#">Next</a></li>
            </ul>
        </nav>
    </div>

   

    <div class="container mt-5">
        <h1>Today's Viral News</h1>
        <div id="newsCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="newsCards">
                <!-- News cards will be injected here dynamically -->
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#newsCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#newsCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>

    <!-- Remove the container if you want to extend the Footer to full width. -->

    <footer class="bg-black text-center text-lg-start text-white">
        <!-- Grid container -->
        <div class="container p-4">
            <!--Grid row-->
            <div class="row mt-4">
                <!--Grid column-->
                <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
                    <h5 class="text-uppercase">News Categories</h5>

                    <ul class="list-unstyled mb-0">
                        <li>
                            <a href="#!" class="text-white"><i
                                    class="fas fa-newspaper fa-fw fa-sm me-2 text-warning"></i>Latest News</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white"><i
                                class="fas fa-globe fa-fw fa-sm me-2 text-warning"></i>World News</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white"><i
                                    class="fas fa-landmark fa-fw fa-sm me-2 text-warning"></i>Politics</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white"><i
                                    class="fas fa-laptop-code fa-fw fa-sm me-2 text-warning"></i>Tech</a>
                        </li>
                    </ul>
                </div>
                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
                    <h5 class="text-uppercase">Customer Services</h5>

                    <ul class="list-unstyled">
                        <li>
                            <a href="#!" class="text-white"><i
                                    class="fas fa-shipping-fast fa-fw fa-sm me-2 text-warning"></i>Delivery Info</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white"><i
                                    class="fas fa-sync-alt fa-fw fa-sm me-2 text-warning"></i>Returns</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white"><i
                                    class="far fa-file-alt fa-fw fa-sm me-2 text-warning"></i>Privacy Policy</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white"><i
                                class="far fa-question-circle fa-fw fa-sm me-2 text-warning"></i>FAQ</a>
                        </li>
                    </ul>
                </div>
                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
                    <h5 class="text-uppercase">Our Office</h5>

                    <ul class="list-unstyled">
                        <li>
                            <p class="text-white"><i
                                class="fas fa-map-marker-alt fa-fw fa-sm me-2 text-warning"></i>NewsSpire Office,
                                Delhi</p>
                        </li>
                        <li>
                            <p class="text-white"><i class="fas fa-phone fa-fw fa-sm me-2 text-warning"></i>+91 123 456
                                7890</p>
                        </li>
                        <li>
                            <p class="text-white"><i
                                    class="fas fa-envelope fa-fw fa-sm me-2 text-warning"></i>info@newspire.com</p>
                        </li>
                    </ul>
                </div>
                <!--Grid column-->

                <!--Grid column-->
                <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
                    <h5 class="text-uppercase">Connect With Us</h5>

                    <ul class="list-unstyled">
                        <li>
                            <a href="#!" class="text-white"><i
                                class="fab fa-facebook-f fa-fw fa-sm me-2 text-warning"></i>Facebook</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white"><i
                                class="fab fa-twitter fa-fw fa-sm me-2 text-warning"></i>Twitter</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white"><i
                                class="fab fa-instagram fa-fw fa-sm me-2 text-warning"></i>Instagram</a>
                        </li>
                        <li>
                            <a href="#!" class="text-white"><i
                                class="fab fa-linkedin fa-fw fa-sm me-2 text-warning"></i>LinkedIn</a>
                        </li>
                    </ul>
                </div>
                <!--Grid column-->
            </div>
            <!--Grid row-->
        </div>
        <!-- Grid container -->

        <!-- Copyright -->
        <div class="text-center p-3" style="background-color:darkgoldenrod;">
            © 2024 Copyright:
            <a class="text-white" href="#">NewsSpire</a>
        </div>
        <!-- Copyright -->
    </footer>

    <!-- End of .container -->

<!--    
    <script>
        let totalpages  
        let articlesPerPage = 20; // Define articles per page
        let query = window.location.search.split("?")[1].split("&")[0].split("=")[1]
        let pageno = parseInt(window.location.search.split("?")[1].split("&")[1].split("=")[1])
        console.log(query, pageno)

        const fectnews = async (query, pageno) => {
            const today = new Date().toISOString().split('T')[0];
            let url = `/api?q=${query}&apiKey=e6965d3a8fe84783ac777ba7f530c643&pagesize=${articlesPerPage}&page=${pageno}`
            let response = await fetch(url)
            let d = await response.json()
            console.log(d)
            // Update the number of pages
            queryText.innerHTML = query.replace("+", " ");
            queryResult.innerHTML = d.totalResults;

            totalpages = Math.ceil(d.totalResults / articlesPerPage)
            // totalpages = Math.ceil(d.totalresult / articleperpage)


            // Update pagination links
          
            prev.href = `/?q=${query}&pageno=${pageno - 1 > 0 ? pageno - 1 : 1}`;
            next.href = `/?q=${query}&pageno=${pageno + 1 <= totalpages ? pageno + 1 : totalpages}`;



            // Update page number links dynamically
    document.getElementById("f").href = `/?q=${query}&pageno=1`;
    document.getElementById("s").href = `/?q=${query}&pageno=2`;
    document.getElementById("th").href = `/?q=${query}&pageno=3`;

            // Display total pages
            let paginationInfo = document.getElementById("paginationInfo");
            paginationInfo.innerHTML = `Page ${pageno} of ${totalpages}`;

            let str = ""
            for (let item of d.articles) {

                let date = new Date(item.publishedAt).toLocaleDateString()
                if (!item.urlToImage || !item.title) {
                    continue;
                }
                str += `

<div class="card m-3" style="width: 18rem;">
            <img src="${item.urlToImage}" class="card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title ">${item.title}</h5>
                <span class=" fw-bold"> Published :${date} </span>
                <span class=" fw-bold"> From :${item.source.name} </span>
                <p class="card-text ">${item.description}.</p>
                 <a href="${item.url}" class="btn btn-warning" target="_blank" rel="noopener noreferrer">Read more</a>
            </div>
        </div>


            `
            }
            content.innerHTML = str


        }

        fectnews(query, pageno)
        async function fetchViralNews() {
            // const apiKey = 'YOUR_NEWSAPI_KEY'; // Replace with your actual NewsAPI key
            const url = `https://newsapi.org/v2/top-headlines?country=us&category=general&pageSize=24&apiKey=e6965d3a8fe84783ac777ba7f530c643`;
            try {   
                const response = await fetch(url);
                const data = await response.json();
                displayNews(data.articles);
            } catch (error) {
                console.error('Error fetching the news:', error);
            }
        }
      
        function displayNews(articles) {
            const newsCards = document.getElementById('newsCards');
            let isFirstItem = true;

            // Filter articles to include only those with an image, title, and description
            const filteredArticles = articles.filter(article => 
                article.urlToImage && article.title && article.description
            );

            for (let i = 0; i < filteredArticles.length; i += 4) {
                // Check if there are less than 4 articles remaining
                if (filteredArticles.length - i < 4 && i !== 0) {
                    break; // Stop if there are fewer than 4 articles left
                }

                const carouselItem = document.createElement('div');
                carouselItem.className = `carousel-item ${isFirstItem ? 'active' : ''}`;
                isFirstItem = false;

                // Create a wrapper for the 4 cards
                const cardsWrapper = document.createElement('div');
                cardsWrapper.className = 'cards-wrapper';

                filteredArticles.slice(i, i + 4).forEach(article => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.style = 'width: 18rem;';
                    card.innerHTML = `
                        <img src="${article.urlToImage}" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">${article.title}</h5>
                            <p class="card-text">${article.description}</p>
                            <a href="${article.url}" class="btn btn-warning" target="_blank">Read more</a>
                        </div>`;
                    cardsWrapper.appendChild(card);
                });

                carouselItem.appendChild(cardsWrapper);
                newsCards.appendChild(carouselItem);
            }
        }

        // Fetch news when the page loads
        fetchViralNews();

    </script> -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>

</html>